# Multi-Region Supabase HA Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Primary Supabase Project
# =============================================================================
PRIMARY_HOST=db.your-primary-ref.supabase.co
PRIMARY_REF=your-primary-ref

# =============================================================================
# Standby Supabase Project
# =============================================================================
STANDBY_HOST=db.your-standby-ref.supabase.co
STANDBY_REF=your-standby-ref

# =============================================================================
# Database Credentials
# =============================================================================
# Use the postgres user password from Supabase dashboard
POSTGRES_PASSWORD=your-postgres-password
DATABASE_NAME=postgres
DATABASE_USER=postgres

# =============================================================================
# Fly.io PgBouncer
# =============================================================================
FLY_APP_NAME=your-pgbouncer-app
PGBOUNCER_ADMIN_PASSWORD=your-pgbouncer-admin-password

# =============================================================================
# Failover Configuration
# =============================================================================
# Buffer to add to sequences during failover
SEQUENCE_BUFFER=10000

# Timeout for operations (seconds)
OPERATION_TIMEOUT=30

# =============================================================================
# Active Region Flag (choose one method)
# =============================================================================
# Option 1: Environment variable (simplest, update manually)
ACTIVE_REGION=primary

# Option 2: AWS Parameter Store
# AWS_REGION=us-east-1
# ACTIVE_REGION_PARAM=/supabase/active-region

# Option 3: Cloudflare KV
# CF_ACCOUNT_ID=your-account-id
# CF_KV_NAMESPACE=your-namespace-id
# CF_API_TOKEN=your-api-token

# =============================================================================
# Alerting (Optional)
# =============================================================================
# Slack webhook for notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/yyy/zzz

# PagerDuty integration key
# PAGERDUTY_ROUTING_KEY=your-routing-key
